{"version":3,"sources":["webpack:///./src/pages/promotion/proAddlist.vue?8b6f","webpack:///./src/pages/promotion/proAddlist.vue?5279","webpack:///src/pages/promotion/proAddlist.vue","webpack:///./src/pages/promotion/proAddlist.vue?687f","webpack:///./src/pages/promotion/proAddlist.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_proAddlist_vue_vue_type_style_index_0_id_0d60b2e4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_proAddlist_vue_vue_type_style_index_0_id_0d60b2e4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","titlename","ref","model","ruleForm","rules","label-width","label","prop","filterable","remote","clearable","disabled","isAdd","placeholder","remote-method","searchGoods","on","change","handleGoods","value","callback","$$v","$set","expression","_l","item","goodsName","id","specList","length","border","size","val","_v","_s","goodsSalePrice","goodsStock","_e","index","type","min","merchantGoodsGroup","click","$event","deleteSpec","addSpec","loading","submitLoading","submitForm","$router","push","name","staticRenderFns","proAddlistvue_type_script_lang_js_","[object Object]","goodsList","goodsId","skuId","groupUserNum","groupPrice","groupTime","groupMaxNum","required","message","trigger","$route","query","$http","post","then","res","merchantGoods","merchantGoodsTypeProperty","nameValue","err","element_ui_common","error","msg","methods","splice","formName","$refs","validate","valid","isValid","forEach","warning","addEdit","String","Object","assign","url","success","setTimeout","currentPage","pageSize","list","adLink","toString","merchantGoodsTypePropertyList","promotion_proAddlistvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"assets/js/chunk-b4e5b7fa.e6a57fc8.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proAddlist.vue?vue&type=style&index=0&id=0d60b2e4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proAddlist.vue?vue&type=style&index=0&id=0d60b2e4&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"global_div proAddlist\"},[_c('content-top',{attrs:{\"titlename\":\"类目列表\"}}),_c('div',{staticClass:\"center_div\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"form\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"拼团商品: \",\"prop\":\"goodsId\"}},[_c('el-select',{ref:\"searchSelect\",attrs:{\"filterable\":\"\",\"remote\":\"\",\"clearable\":\"\",\"disabled\":!_vm.isAdd,\"placeholder\":\"请输入商品名\",\"remote-method\":_vm.searchGoods},on:{\"change\":_vm.handleGoods},model:{value:(_vm.ruleForm.goodsId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"goodsId\", $$v)},expression:\"ruleForm.goodsId\"}},_vm._l((_vm.goodsList),function(item){return _c('el-option',{attrs:{\"label\":item.goodsName,\"value\":item.id}})}),1)],1),(_vm.specList.length > 0)?_c('el-form-item',{attrs:{\"label\":\"选择商品规格: \",\"prop\":\"skuId\"}},_vm._l((_vm.specList),function(item){return _c('div',{staticClass:\"spec-item\"},[_c('el-radio',{attrs:{\"label\":item.id,\"border\":\"\",\"size\":\"medium\"},model:{value:(_vm.ruleForm.skuId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"skuId\", $$v)},expression:\"ruleForm.skuId\"}},[_vm._l((item.nameValue),function(val){return _c('span',{staticClass:\"spec-info\"},[_vm._v(_vm._s(((val.name) + \":\" + (val.value))))])}),_c('span',{staticClass:\"spec-info\"},[_vm._v(\"价格: \"+_vm._s(item.goodsSalePrice))]),_c('span',{staticClass:\"spec-info\"},[_vm._v(\"库存: \"+_vm._s(item.goodsStock))])],2)],1)}),0):_vm._e(),(_vm.ruleForm.skuId)?_c('el-form-item',{attrs:{\"label\":\"拼团规格设置: \"}},[_c('table',{staticClass:\"goods-table\",attrs:{\"border\":\"1\"}},[_c('thead',[_c('td',[_vm._v(\"拼团人数\")]),_c('td',[_vm._v(\"拼团价格\")]),_c('td',[_vm._v(\"拼团时效\")]),_c('td',[_vm._v(\"成团个数\")]),_c('td',[_vm._v(\"操作\")])]),_c('tbody',_vm._l((_vm.ruleForm.merchantGoodsGroup),function(item,index){return _c('tr',[_c('td',[_c('el-select',{attrs:{\"placeholder\":\"请选择人数\",\"size\":\"small\"},model:{value:(item.groupUserNum),callback:function ($$v) {_vm.$set(item, \"groupUserNum\", $$v)},expression:\"item.groupUserNum\"}},_vm._l(([2, 4, 6]),function(item){return _c('el-option',{attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('td',[_c('el-input',{attrs:{\"type\":\"number\",\"min\":\"0\",\"placeholder\":\"团价格不能相同\",\"size\":\"small\"},model:{value:(item.groupPrice),callback:function ($$v) {_vm.$set(item, \"groupPrice\", $$v)},expression:\"item.groupPrice\"}})],1),_c('td',[_c('el-select',{attrs:{\"placeholder\":\"请选择时间\",\"size\":\"small\"},model:{value:(item.groupTime),callback:function ($$v) {_vm.$set(item, \"groupTime\", $$v)},expression:\"item.groupTime\"}},[_c('el-option',{attrs:{\"label\":\"12小时制\",\"value\":\"12\"}}),_c('el-option',{attrs:{\"label\":\"24小时制\",\"value\":\"24\"}})],1)],1),_c('td',[_c('el-input',{attrs:{\"type\":\"number\",\"min\":\"0\",\"placeholder\":\"最多100个团\",\"size\":\"small\"},model:{value:(item.groupMaxNum),callback:function ($$v) {_vm.$set(item, \"groupMaxNum\", $$v)},expression:\"item.groupMaxNum\"}})],1),_c('td',[_c('el-button',{attrs:{\"type\":\"text\",\"disabled\":_vm.ruleForm.merchantGoodsGroup.length < 2},on:{\"click\":function($event){_vm.deleteSpec(index)}}},[_vm._v(\"删除\")])],1)])}),0)]),(_vm.ruleForm.merchantGoodsGroup.length < 4 && _vm.isAdd)?_c('el-button',{staticClass:\"add-spec-btn\",on:{\"click\":_vm.addSpec}},[_vm._v(\"添加规格（最多添加四个）\")]):_vm._e()],1):_vm._e(),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.submitLoading},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){_vm.$router.push({name:'proList'})}}},[_vm._v(\"返回\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"global_div proAddlist\">\r\n      <content-top titlename=\"类目列表\"></content-top>\r\n      <div class=\"center_div\">\r\n          <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"150px\" class=\"form\">\r\n            <el-form-item label=\"拼团商品: \" prop=\"goodsId\">\r\n            <el-select\r\n                v-model=\"ruleForm.goodsId\"\r\n                filterable\r\n                remote\r\n                ref=\"searchSelect\"\r\n                clearable\r\n                :disabled=\"!isAdd\"\r\n                @change=\"handleGoods\"\r\n                placeholder=\"请输入商品名\"\r\n                :remote-method=\"searchGoods\">\r\n                <el-option v-for=\"item in goodsList\" :label=\"item.goodsName\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"选择商品规格: \" prop=\"skuId\" v-if=\"specList.length > 0\">\r\n            <div v-for=\"item in specList\" class=\"spec-item\">\r\n                <el-radio v-model=\"ruleForm.skuId\" :label=\"item.id\" border size=\"medium\">\r\n                <span class=\"spec-info\" v-for=\"val in item.nameValue\">{{ `${val.name}:${val.value}` }}</span>\r\n                <span class=\"spec-info\">价格: {{ item.goodsSalePrice }}</span>\r\n                <span class=\"spec-info\">库存: {{ item.goodsStock }}</span>\r\n                </el-radio>\r\n            </div>\r\n            </el-form-item>\r\n            <el-form-item label=\"拼团规格设置: \" v-if=\"ruleForm.skuId\">\r\n            <table class=\"goods-table\" border=\"1\">\r\n                <thead>\r\n                <td>拼团人数</td>\r\n                <td>拼团价格</td>\r\n                <td>拼团时效</td>\r\n                <td>成团个数</td>\r\n                <td>操作</td>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"(item,index) in ruleForm.merchantGoodsGroup\">\r\n                    <td>\r\n                    <el-select v-model=\"item.groupUserNum\" placeholder=\"请选择人数\" size=\"small\">\r\n                        <el-option v-for=\"item in [2, 4, 6]\" :label=\"item\" :value=\"item\"></el-option>\r\n                    </el-select>\r\n                    </td>\r\n                    <td><el-input v-model=\"item.groupPrice\" type=\"number\" min=\"0\" placeholder=\"团价格不能相同\" size=\"small\"></el-input></td>\r\n                    <td>\r\n                    <el-select v-model=\"item.groupTime\" placeholder=\"请选择时间\" size=\"small\">\r\n                        <el-option label=\"12小时制\" value=\"12\"></el-option>\r\n                        <el-option label=\"24小时制\" value=\"24\"></el-option>\r\n                    </el-select>\r\n                    </td>\r\n                    <td><el-input v-model=\"item.groupMaxNum\" type=\"number\" min=\"0\" placeholder=\"最多100个团\" size=\"small\"></el-input></td>\r\n                    <td>\r\n                    <el-button @click=\"deleteSpec(index)\" type=\"text\" :disabled=\"ruleForm.merchantGoodsGroup.length < 2\">删除</el-button>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n            <el-button v-if=\"ruleForm.merchantGoodsGroup.length < 4 && isAdd\" @click=\"addSpec\" class=\"add-spec-btn\">添加规格（最多添加四个）</el-button>\r\n            </el-form-item>\r\n            <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitForm('ruleForm')\" :loading=\"submitLoading\">提交</el-button>\r\n            <el-button @click=\"$router.push({name:'proList'})\">返回</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {Message} from 'element-ui'\r\nexport default {\r\n  name: 'proAddlist',\r\n  data(){\r\n    return{\r\n        isAdd:true,\r\n        goodsList: [],\r\n        goodsId: '',\r\n        specList: [],\r\n        ruleForm: {\r\n          goodsId: '',\r\n          skuId: '',\r\n          merchantGoodsGroup: [{\r\n            'groupUserNum': '',\r\n            'groupPrice': '',\r\n            'groupTime': '',\r\n            'groupMaxNum': '',\r\n          }],\r\n        },\r\n        rules: {\r\n          goodsId: [\r\n            { required: true, message: '请选择拼团商品', trigger: 'change' }\r\n          ],\r\n          skuId : [\r\n            { required: true, message: '请选择商品规格' }\r\n          ],\r\n          merchantGoodsGroup : [\r\n            { required: true }\r\n          ],\r\n        },\r\n        loading: false,\r\n        submitLoading: false,\r\n      }\r\n  },\r\n  created() {\r\n       if (this.$route.query.id){\r\n        this.isAdd = false;\r\n        this.loading = true;\r\n        this.$http.post(\"merchantGoodsGroup/goods_group_by_id\", {\r\n          id: this.$route.query.id\r\n        }).then((res) => {\r\n          this.goodsId = res.merchantGoods.id;\r\n          this.$set(this.ruleForm, 'goodsId', res.merchantGoods.goodsName);\r\n          this.$set(this.ruleForm, 'skuId', res.merchantGoodsTypeProperty.id);\r\n          this.$set(this.ruleForm, 'merchantGoodsGroup', [{\r\n            groupUserNum: res.groupUserNum,\r\n            groupPrice: res.groupPrice,\r\n            groupTime: res.groupTime,\r\n            groupMaxNum: res.groupMaxNum,\r\n          }]);\r\n          this.specList = [{\r\n            id: res.merchantGoodsTypeProperty.id,\r\n            nameValue: res.merchantGoodsTypeProperty.nameValue,\r\n            goodsSalePrice: res.merchantGoodsTypeProperty.goodsSalePrice,\r\n            goodsStock: res.merchantGoodsTypeProperty.goodsStock\r\n          }]\r\n        }, (err) => {\r\n          Message.error(err.msg);\r\n            this.loading = false\r\n        });\r\n      }else {\r\n        this.isAdd = true;\r\n      }\r\n  },\r\n  methods: {\r\n    addSpec(){\r\n        this.ruleForm.merchantGoodsGroup.push({\r\n          'groupUserNum': '',\r\n          'groupPrice': '',\r\n          'groupTime': '',\r\n          'groupMaxNum': '',\r\n        })\r\n      },\r\n      deleteSpec(index){\r\n        if (this.ruleForm.merchantGoodsGroup.length > 1){\r\n          this.ruleForm.merchantGoodsGroup.splice(index, 1);\r\n        }\r\n      },\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            let isValid = true;\r\n            this.ruleForm.merchantGoodsGroup.forEach((item) => {\r\n              if (!item.groupUserNum || !item.groupPrice || !item.groupTime || !item.groupMaxNum){\r\n                Message.warning(\"请填写完整拼团规格列表\");\r\n                isValid = false;\r\n                return\r\n              }\r\n              if (item.groupMaxNum > 100 || item.groupMaxNum < 0){\r\n                Message.warning(\"成团个数在0到100之间\");\r\n                isValid = false;\r\n                return\r\n              }\r\n            });\r\n            if (!isValid){\r\n              return\r\n            }\r\n            this.submitLoading = true;\r\n            if (this.isAdd){\r\n              this.addEdit('merchantGoodsGroup/goods_group_add');\r\n            }else {\r\n              this.ruleForm.goodsId = String(this.goodsId);\r\n              this.ruleForm.id = this.$route.query.id;\r\n              this.ruleForm = Object.assign(this.ruleForm, this.ruleForm.merchantGoodsGroup[0]);\r\n              delete  this.ruleForm.merchantGoodsGroup;\r\n              this.addEdit('merchantGoodsGroup/goods_group_update');\r\n            }\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      addEdit(url){\r\n        let ruleForm = Object.assign({}, this.ruleForm);\r\n        this.$http.post(url, ruleForm).then(() => {\r\n          Message.success(\"提交成功\");\r\n          setTimeout(() => {\r\n            this.$router.push('/promotion/list');\r\n            this.submitLoading = false;\r\n          }, 500)\r\n        },(err) => {\r\n          this.submitLoading = false;\r\n            Message.error(err.msg);\r\n        })\r\n      },\r\n      searchGoods(val){\r\n        this.$http.post('merchantGoods/merchant_goods_list_page',{\r\n          currentPage: 1,\r\n          pageSize: 100,\r\n          goodsName: val,\r\n        }).then((res) => {\r\n          this.goodsList = res.list;\r\n        })\r\n      },\r\n      handleGoods($event){\r\n        if ($event) {\r\n          this.adLink = $event.toString();\r\n          this.$http.post(\"merchantGoods/merchant_goods_by_id\", {\r\n            id: $event\r\n          }).then((res) => {\r\n            this.specList = res.merchantGoodsTypePropertyList;\r\n          })\r\n        }\r\n      },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.proAddlist{\r\n    .center_div{\r\n        padding-top:20px;\r\n    }\r\n    .goods-table{\r\n        border-collapse: collapse;\r\n        border:1px solid #cccccc;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proAddlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proAddlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./proAddlist.vue?vue&type=template&id=0d60b2e4&scoped=true&\"\nimport script from \"./proAddlist.vue?vue&type=script&lang=js&\"\nexport * from \"./proAddlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./proAddlist.vue?vue&type=style&index=0&id=0d60b2e4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d60b2e4\",\n  null\n  \n)\n\ncomponent.options.__file = \"proAddlist.vue\"\nexport default component.exports"],"sourceRoot":""}