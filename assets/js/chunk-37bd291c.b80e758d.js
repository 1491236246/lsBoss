(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37bd291c"],{"1de3":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"global_div goodsAsync"},[r("content-top",{attrs:{titlename:"添加分类"}}),r("div",{staticClass:"center_div"},[r("div",{staticClass:"goodslist"},[r("el-form",{ref:"ruleForms",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"分类名称: ",prop:"typeName"}},[r("el-input",{model:{value:e.ruleForm.typeName,callback:function(t){e.$set(e.ruleForm,"typeName",t)},expression:"ruleForm.typeName"}})],1),r("el-form-item",{attrs:{label:"上级分类: "}},[r("el-select",{attrs:{disabled:e.isAddCategory,placeholder:"请选择分类"},model:{value:e.ruleForm.parentId,callback:function(t){e.$set(e.ruleForm,"parentId",t)},expression:"ruleForm.parentId"}},e._l(e.categoryList,function(e){return r("el-option",{attrs:{label:e.typeName,value:e.id}})}),1),e.isAddCategory?e._e():r("p",{staticClass:"form-tips"},[e._v("不选择分类默认为顶级分类")])],1),r("el-form-item",{attrs:{label:"数量单位: "}},[r("el-input",{model:{value:e.ruleForm.goodsUnit,callback:function(t){e.$set(e.ruleForm,"goodsUnit",t)},expression:"ruleForm.goodsUnit"}})],1),r("el-form-item",{attrs:{label:"排序: "}},[r("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsSort,callback:function(t){e.$set(e.ruleForm,"goodsSort",t)},expression:"ruleForm.goodsSort"}})],1),r("el-form-item",{attrs:{label:"是否显示: "}},[r("el-radio-group",{model:{value:e.ruleForm.showStatus,callback:function(t){e.$set(e.ruleForm,"showStatus",t)},expression:"ruleForm.showStatus"}},[r("el-radio",{attrs:{label:0}},[e._v("显示")]),r("el-radio",{attrs:{label:1}},[e._v("不显示")])],1)],1),r("el-form-item",{attrs:{label:"分类描述: "}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.typeDesc,callback:function(t){e.$set(e.ruleForm,"typeDesc",t)},expression:"ruleForm.typeDesc"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForms")}}},[e._v("提交")]),r("el-button",{on:{click:e.callBack}},[e._v("返回")])],1)],1)],1)])],1)},s=[],a=r("5c96"),l={name:"index",data(){return{isAdd:!0,isAddCategory:!1,ruleForm:{typeName:"",parentId:0,goodsUnit:"",goodsSort:"",showStatus:"",typeIcon:""},rules:{typeName:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}]},categoryList:[{id:0,typeName:"顶级分类"}],loading:!1}},created(){this.$http("merchantGoodsType/query_goods_type_tree").then(e=>{this.categoryList=[...this.categoryList,...e],console.log(this.categoryList),this.$route.query.id&&(this.isAdd=!1,this.loading=!0,this.$http.post("merchantGoodsType/merchant_goods_type_by_id",{id:this.$route.query.id}).then(e=>{console.log(e),this.ruleForm.typeName=e.typeName,this.ruleForm.parentId=e.parentId,this.ruleForm.goodsUnit=e.goodsUnit,this.ruleForm.goodsSort=e.goodsSort,this.ruleForm.showStatus=e.showStatus,this.ruleForm.typeIcon=e.typeIcon},e=>{a["Message"].success(e.msg)}).finally(()=>{this.loading=!1})),this.$route.query.parId&&(this.ruleForm.parentId=Number(this.$route.query.parId),this.isAddCategory=!0)})},methods:{submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.isAdd?this.addEdit("merchantGoodsType/merchant_add_goods_type"):(this.ruleForm.id=this.$route.query.id,this.addEdit("merchantGoodsType/merchant_goods_type_update"))})},addEdit(e){this.$http.post(e,this.ruleForm).then(()=>{a["Message"].success("操作成功"),setTimeout(()=>{this.$router.push("/index/goodsClass")},500)},e=>{a["Message"].error(e.msg)})},callBack(){this.$router.go(-1)}}},i=l,d=(r("d80b"),r("2877")),u=Object(d["a"])(i,o,s,!1,null,"65abee0e",null);u.options.__file="goodsAsync.vue";t["default"]=u.exports},"9a2d":function(e,t,r){},d80b:function(e,t,r){"use strict";var o=r("9a2d"),s=r.n(o);s.a}}]);
//# sourceMappingURL=chunk-37bd291c.b80e758d.js.map